<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Eleven Builder</title>
    <style>
        .player-container {
          min-width: 60px;
          max-width: 140px; /* Increased max size for desktop */
          width: 12vw;      /* Larger viewport percentage */
          margin: 5px;
          flex: 1 1 auto;
          transition: all 0.3s ease; /* Smooth resizing */
        }
  
        .player-container svg {
          width: 100%;
          height: auto;
          max-height: 120px; /* Limit maximum height */
        }
  
        .player-container input {
          width: 100%;
          margin-top: 8px;
          text-align: center;
          font-size: 14px;
        }
  
        #lineup {
          display: flex;
          flex-direction: column;
          gap: 20px;
          width: 100%;
          padding: 20px;
          box-sizing: border-box;
          max-width: 1600px; /* Increased max width */
          margin: 0 auto;
        }
  
        .formation-row {
          display: flex;
          justify-content: space-between; /* Better space distribution */
          flex-wrap: nowrap;
          gap: 10px;
          width: 100%;
          min-height: 120px; /* Taller rows for desktop */
        }
  
        .controls {
          display: flex;
          gap: 20px;
          flex-wrap: wrap;
          padding: 20px;
          justify-content: center;
          max-width: 1200px;
          margin: 0 auto;
        }
  
        /* Desktop optimization */
        @media (min-width: 1024px) {
          .player-container {
            min-width: 80px;
            max-width: 160px;
            width: 14vw;
            margin: 10px;
          }
          
          .formation-row {
            min-height: 150px;
            gap: 20px;
          }
          
          .player-container input {
            font-size: 16px;
            margin-top: 12px;
          }
          
          #lineup {
            padding: 40px;
          }
        }
  
        /* Mobile optimization */
        @media (max-width: 600px) {
          .player-container {
            min-width: 40px;
            width: 18vw;
          }
          
          .formation-row {
            min-height: 80px;
          }
        }
      </style>
    <script>
      function changeName(event) {
        let newName = prompt("Enter the name for the {position}");
        event.target.value = newName;
      }

      document.addEventListener("DOMContentLoaded", (event) => {
        let select = document.getElementById("formation");
        let formations = {
          "4 Defenders": [
            "4-3-3",
            "4-4-2",
            "4-2-3-1",
            "4-1-4-1",
            "4-3-2-1",
            "4-5-1",
            "4-2-2-2",
            "4-4-1-1",
            "4-2-1-3",
            "4-1-2-1-2",
            "4-1-3-2",
            "4-3-1-2",
            "4-2-1-2",
          ],
          "5 Defenders": [
            "5-3-2",
            "5-4-1",
            "5-2-3",
            "5-2-2-1",
            "5-3-1-1",
            "5-2-1-2",
          ],
          "3 Defenders": [
            "3-4-3",
            "3-5-2",
            "3-4-1-2",
            "3-4-2-1",
            "3-6-1",
            "3-5-1-1",
          ],
          "2 Defenders": ["2-3-5", "2-4-4", "2-5-3", "2-3-2-3", "2-4-3-1"],
          "1 Defender": ["1-4-5", "1-3-6", "1-2-7", "1-4-3-2"],
          "Funny Formations": [
            "10-0-0",
            "0-10-0",
            "0-0-10",
            "1-1-8",
            "6-6-6",
            "9-0-1",
            "2-2-6",
            "7-2-1",
            "1-8-1",
            "0-5-5",
            "4-2-4",
            "3-2-5",
            "2-3-5",
            "1-6-3",
            "8-1-1",
          ],
        };

        for (let groupName in formations) {
          if (formations.hasOwnProperty(groupName)) {
            let optgroup = document.createElement("optgroup");
            optgroup.label = groupName;

            for (let formation of formations[groupName]) {
              let option = document.createElement("option");
              option.value = formation;
              option.innerText = formation;
              optgroup.appendChild(option);
            }

            select.appendChild(optgroup);
          }
        }
        select.selectedIndex = 0;
        select.dispatchEvent(new Event("change"));
      });

      function rearrangeFormation(event) {
        let formation = event.srcElement.selectedOptions[0].value;
        formation = formation.split("-");
        formation = formation.map((val) => {
          return parseInt(val);
        });
        formation.unshift(1);

        const svg = `<svg viewBox="0 -7.72 127.24603 127.24603" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 856 412" xml:space="preserve" version="1.1" y="0px" x="0px" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/">
            <g>
            <path class="secondary" fill="${document.getElementById("secondary").value}" d="m32 109c-1.4 0-2.5-1.1-2.5-2.5v-62.6l-7 5.9c-.1.1-.2.1-.2.2-1 .6-2.1 1-3.2 1-2 0-3.8-1-4.9-2.6l-10.7-16.1c-1.8-2.7-1-6.3 1.7-8.1l29.7-20.7c.2-.1.4-.3.7-.3.1 0 2.8-.9 6.6-1h3.1c.7 0 1.4.3 1.8.8.5.5.7 1.2.6 1.9 0 .1 0 .3-.1.4.2 7.5 8.1 14.5 16.5 14.5s16.3-7 16.5-14.5c0-.1 0-.3-.1-.4-.1-.7.2-1.4.6-1.9s1.1-.8 1.8-.8h6.1c2.4 0 4.3 1.1 4.5 1.2.1 0 .1.1.2.1l28.7 20.7c2.6 1.7 3.4 5.4 1.6 8.1l-10.7 15.2c-1 1.6-2.9 2.6-4.9 2.6-1.2 0-2.3-.3-3.2-1-.1 0-.1-.1-0.2-.2l-6.4-5.3-.2 62.9c0 1.4-1.1 2.5-2.5 2.5h-63.9z"/>
            <path class="primary" fill="${document.getElementById("primary").value}" d="m42.2 2.5c-3.8.1-6.5 1-6.6 1-.3 0-.5.20-.7.30l-3 2.09v51h-2.4v50.1c0 1 1.1 2 2.5 2h63.9c1.4 0 2.5-1 2.5-2l.1-50.2h-2.6v-51.4l-2.2-1.6c-.1 0-.1-.10-.2-.10-.2-.10-2.1-1.2-4.5-1.2h-6.1c-.7 0-1.4.30-1.8.80s-.7 1.2-.6 1.9c.1.10.1.30.1.40-.2 7.5-8.1 14.5-16.5 14.5s-16.3-7-16.5-14.5c.1-.10.1-.30.1-.40.1-.70-.1-1.4-.6-1.9-.4-.50-1.1-.80-1.8-.80h-3.1z"/>
            <path d="m89.1 5c1.8 0 3.1.9 3.1.9l28.7 20.6c1.6 1 2 3.1.9 4.7l-10.7 15.1c-0.6 1-1.7 1.5-2.8 1.5-.6 0-1.3-.2-1.9-.6l-10.5-8.6-.2 68.2h-63.7v-68l-11.2 9.4c-.6.4-1.2.6-1.9.6-1.1 0-2.2-.5-2.8-1.5l-10.6-16.1c-1-1.6-.6-3.6.9-4.7l29.7-20.7s2.4-.8 5.8-.9h3.1v.2.2c0 9 9.1 17.3 19 17.3s19-8.3 19-17.3v-.2-.2h5.9.2c-.1.1 0 .1 0 .1m0-5s-.1 0 0 0h-.2-5.9c-1.4 0-2.7.6-3.7 1.6-.9 1-1.4 2.4-1.3 3.8v.4c-.3 6.1-7.1 11.9-14 11.9s-13.7-5.8-14-11.9v-.4c.1-1.4-.3-2.8-1.3-3.8-.9-1-2.3-1.6-3.7-1.6h-3.1-.1c-4 .1-6.9 1-7.3 1.1-.5.2-.9.4-1.3.7l-29.5 20.6c-3.8 2.6-4.8 7.7-2.3 11.6l10.7 16.1c1.6 2.3 4.2 3.7 7 3.7 1.6 0 3.2-.5 4.6-1.4.2-.1.3-.2.5-.3l2.9-2.5v57.2c0 2.8 2.2 5 5 5h63.8c2.8 0 5-2.2 5-5l.1-57.7 2.3 1.9c.1.1.3.2.4.3 1.4.9 3 1.4 4.6 1.4 2.8 0 5.4-1.4 6.9-3.7l10.6-15 .1-.1c2.5-3.8 1.5-9-2.3-11.5l-28-20.9c-.1-.1-.2-.1-.3-.2-.3-.2-2.6-1.5-5.6-1.5z"/>
            </g>
            </svg>`;

        const keeper = `<svg viewBox="0 -7.72 127.24603 127.24603" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 856 412" xml:space="preserve" version="1.1" y="0px" x="0px" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/">
                <g>
                    <path class="primary" fill="${document.getElementById("primary").value}" d="m32 109c-1.4 0-2.5-1.1-2.5-2.5v-62.6l-7 5.9c-.1.1-.2.1-.2.2-1 .6-2.1 1-3.2 1-2 0-3.8-1-4.9-2.6l-10.7-16.1c-1.8-2.7-1-6.3 1.7-8.1l29.7-20.7c.2-.1.4-.3.7-.3.1 0 2.8-.9 6.6-1h3.1c.7 0 1.4.3 1.8.8.5.5.7 1.2.6 1.9 0 .1 0 .3-.1.4.2 7.5 8.1 14.5 16.5 14.5s16.3-7 16.5-14.5c0-.1 0-.3-.1-.4-.1-.7.2-1.4.6-1.9s1.1-.8 1.8-.8h6.1c2.4 0 4.3 1.1 4.5 1.2.1 0 .1.1.2.1l28.7 20.7c2.6 1.7 3.4 5.4 1.6 8.1l-10.7 15.2c-1 1.6-2.9 2.6-4.9 2.6-1.2 0-2.3-.3-3.2-1-.1 0-.1-.1-0.2-.2l-6.4-5.3-.2 62.9c0 1.4-1.1 2.5-2.5 2.5h-63.9z"/>
                    <path class="secondary" fill="${document.getElementById("secondary").value}" d="m42.2 2.5c-3.8.1-6.5 1-6.6 1-.3 0-.5.20-.7.30l-3 2.09v51h-2.4v50.1c0 1 1.1 2 2.5 2h63.9c1.4 0 2.5-1 2.5-2l.1-50.2h-2.6v-51.4l-2.2-1.6c-.1 0-.1-.10-.2-.10-.2-.10-2.1-1.2-4.5-1.2h-6.1c-.7 0-1.4.30-1.8.80s-.7 1.2-.6 1.9c.1.10.1.30.1.40-.2 7.5-8.1 14.5-16.5 14.5s-16.3-7-16.5-14.5c.1-.10.1-.30.1-.40.1-.70-.1-1.4-.6-1.9-.4-.50-1.1-.80-1.8-.80h-3.1z"/>
                    <path d="m89.1 5c1.8 0 3.1.9 3.1.9l28.7 20.6c1.6 1 2 3.1.9 4.7l-10.7 15.1c-0.6 1-1.7 1.5-2.8 1.5-.6 0-1.3-.2-1.9-.6l-10.5-8.6-.2 68.2h-63.7v-68l-11.2 9.4c-.6.4-1.2.6-1.9.6-1.1 0-2.2-.5-2.8-1.5l-10.6-16.1c-1-1.6-.6-3.6.9-4.7l29.7-20.7s2.4-.8 5.8-.9h3.1v.2.2c0 9 9.1 17.3 19 17.3s19-8.3 19-17.3v-.2-.2h5.9.2c-.1.1 0 .1 0 .1m0-5s-.1 0 0 0h-.2-5.9c-1.4 0-2.7.6-3.7 1.6-.9 1-1.4 2.4-1.3 3.8v.4c-.3 6.1-7.1 11.9-14 11.9s-13.7-5.8-14-11.9v-.4c.1-1.4-.3-2.8-1.3-3.8-.9-1-2.3-1.6-3.7-1.6h-3.1-.1c-4 .1-6.9 1-7.3 1.1-.5.2-.9.4-1.3.7l-29.5 20.6c-3.8 2.6-4.8 7.7-2.3 11.6l10.7 16.1c1.6 2.3 4.2 3.7 7 3.7 1.6 0 3.2-.5 4.6-1.4.2-.1.3-.2.5-.3l2.9-2.5v57.2c0 2.8 2.2 5 5 5h63.8c2.8 0 5-2.2 5-5l.1-57.7 2.3 1.9c.1.1.3.2.4.3 1.4.9 3 1.4 4.6 1.4 2.8 0 5.4-1.4 6.9-3.7l10.6-15 .1-.1c2.5-3.8 1.5-9-2.3-11.5l-28-20.9c-.1-.1-.2-.1-.3-.2-.3-.2-2.6-1.5-5.6-1.5z"/>
                </g>
                <text x="50%" y="50%" fill="white" stroke="black" stroke-width="2" text-anchor="middle" dominant-baseline="middle" font-size="40px" font-family="Arial">GK</text>
            </svg>`;

        let main = document.getElementById("lineup");
        main.innerHTML = "";

        let rows = formation.length;
        for (let i = rows - 1; i >= 0; i--) {
          let row = document.createElement("div");
          row.id = i;
          row.style.display = "flex";
          row.style.flexDirection = "row";
          row.style.alignItems = "center";
          row.style.justifyContent = "center";
          row.style.width = "100%";
          row.style.minHeight = "100px";

          for (let j = formation[i]; j > 0; j--) {
            let player = document.createElement("input");
            player.name = "formation";
            player.id = i + " " + j;
            //player.readOnly = true;
            //player.addEventListener("click", changeName);

            let icon = document.createElement("svg");
            icon.innerHTML = svg;
            if (i == 0) {
              icon.innerHTML = keeper;
            }

            let div = document.createElement("div");
            div.className = "player-container";
            div.style.display = "flex";
            div.style.flexDirection = "column";
            div.style.alignItems = "center";

            div.appendChild(icon);
            div.appendChild(player);

            row.appendChild(div);
          }

          main.appendChild(row);
        }
      }

      function changeShirtColor(event, type) {
        let svgs = document.getElementsByClassName(type);
        for (svg of svgs) {
          svg.setAttribute("fill", event.target.value);
        }
      }
      function reset() {
        document.querySelectorAll("input[name='formation']").forEach((input) => {
            input.value = ''; // Clear input
        });
    }

    
    
    //share 
    //css color palette
    //deploy 
    //own prompt 
    
    </script>
  </head>
  <body>
    <main>
      <div class="controls">
        <label for="primary">Primary Color</label>
        <input
          value="#FFFFFF"
          onchange="changeShirtColor(event, 'primary')"
          type="color"
          name="primary"
          id="primary"
        />

        <label for="secondary">Secondary Color</label>
        <input
          value="#C80FFF"
          onchange="changeShirtColor(event, 'secondary')"
          type="color"
          name="secondary"
          id="secondary"
        />
        <label for="formation"> Formation: </label>
        <select
          onchange="rearrangeFormation(event)"
          name="formation"
          id="formation"
        ></select>
        <button onclick="reset()">Reset</button>
      </div>
      <section id="lineup"></section>
    </main>
  </body>
</html>