<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Eleven Builder</title>
  <style>

    /* Ensure html and body take up full height */
    html, body {
      height: 100%;
      margin: 0; /* Remove default margin */
      padding: 0; /* Remove default padding */
    }

    /* Make main take up full height and width */
    main {
      background-color: lightblue;
      height: 100%; /* Take up full height of body */
      width: 100%; /* Take up full width of body */
      display: flex; /* Optional: For centering content */
      justify-content: center; /* Optional: Center horizontally */
      align-items: center; /* Optional: Center vertically */
    }
  </style>
  <script>
    function changeName(event){
        let newName = prompt('Enter the name for the {position}')
        event.target.value = newName
    }
    document.addEventListener('DOMContentLoaded', (event)=>{
        let select = document.getElementById('formation')
        let formations = ['4-3-3', '4-2-1-2']
        for (formation of formations){
            let option = document.createElement('option')
            option.value = formation
            option.innerText = formation
            select.appendChild(option)
        }
    })
    function rearrangeFormation(event){
        let formation = event.srcElement.selectedOptions[0].value
        formation = formation.split('-')
        formation = formation.map((val) => {
            return parseInt(val)          
        })
           let main = document.getElementById('lineup')
            main.innerHTML = ''

        let rows = formation.length
        console.log(rows)
        for (let i = 0 ; i < rows; i++){
            let row = document.createElement('div')
            row.id = i

            for(let j = 0 ; j < formation[i]; j++){
                let player = document.createElement('input')
                player.name = 'formation'
                player.id = i + ' ' + j 
                player.readOnly = true 
                player.addEventListener('click', changeName); // Add event listener
          
                row.appendChild(player)
            }



            let main = document.getElementById('lineup')
        
            main.appendChild(row)
        }
    
    }
  </script>
</head>
<body>

  <main>
    <select onchange="rearrangeFormation(event)" name="formation" id="formation"></select>


    <section id="lineup">

        
    </section>
  </main>
</body>
</html>